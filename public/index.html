<!doctype html>
<html>

  <head>
    <title>Socket.IO chat</title>
    <link rel="stylesheet" href="/main.css">
    <link rel="manifest" href="/manifest.webmanifest">
    <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous"> -->

    <!-- Chrome --> 
    <link rel="icon" sizes="192x192" href="icon.png"><link rel="apple-touch-icon" href="ios-icon.png">
    <!-- Safari --> 
    <link rel="apple-touch-startup-image" href="icon.png">
    <!-- IE --> 
    <meta name="msapplication-square310x310logo" content="icon_largetile.png"> 
    <!-- Chrome --> 
    <meta name="theme-color" content="#4285f4"> 
    <!-- Safari --> 
    <meta name="apple-mobile-web-app-status-bar-style" content="black">

    <!-- for mobile --> 
    <meta name="viewport" content="width=device-width, user-scalable=no">

    <!-- bootflat -->
    <link rel="stylesheet" href="bootflat/css/site.min.css">
    <script type="text/javascript" src="bootflat/js/site.min.js"></script>

    <!-- Map -->
    <script src="https://cdn-webgl.wrld3d.com/wrldjs/dist/latest/wrld.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.0.1/leaflet.css" rel="stylesheet" />

  </head>

  <body id="requireHTTPS">
    <form id="tagForm" class="input-group" action="">
      <div class="col">
        <input placeholder="pseudo" id="pseudo" autocomplete="off" class="form-control" />
      </div>
      <div class="input-group-btn">
        <!-- Button trigger modal -->
        <button type="button" class="btn btn-primary square" data-toggle="modal" data-target="#exampleModal">
          #
        </button>      
      </div>
      <div class="col">
        <input placeholder="#" id="hashTag" list="hashtags" autocomplete="off" class="form-control" />     
      </div>
      <div class="input-group-btn">
        <button class="btn btn-primary square">Select</button>   
      </div>

      
      <datalist id="hashtags"></datalist>
    </form>

    <!-- Modal -->
    <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">#List of current Hashtags</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">

            <ul data-dismiss="modal" id="hashtagsList"></ul>

          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Modal Map -->
    <div class="modal fade" id="modalMap" tabindex="-1" role="dialog" aria-labelledby="modalMapLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="modalMapLabel">Map</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">

            <script src="https://cdn-webgl.wrld3d.com/wrldjs/dist/latest/wrld.js"></script>
            <link href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.0.1/leaflet.css" rel="stylesheet" />
            <div id="map" style="height: 500px"></div>
            <script>

              function showPosition(position) {
                L.Wrld.map("map", "e9ec9af70dee8387d530e6d7fb4d17b1",{
                  center: [position.coords.latitude, position.coords.longitude],
                  zoom: 16
                });
              }

              if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(showPosition);
              } else {
                document.getElementById("map").innerHTML = "Geolocation is not supported.";
              }

            // setTimeout(function() {
            //   map.setView([37.7952, -122.4028], 19, {
            //     animate: false
            //   });
            // }, 5000);
            </script>

          </div>
        </div>
      </div>
    </div>

    <div id="bodyMsg">
      <div class="example-popover" id="messages"></div>
    </div>

    <div id="footer" class="input-group">
      <form id="msgForm" class="input-group form-search" action="">
        <input class="form-control search-query" id="msg" placeholder="..." autocomplete="off" />
        <div class="input-group-btn">
          <button class="btn btn-primary">Send</button>
        </div>
      </form>

      <div class="input-group-btn">
        <button type="button" class="btn btn-secondary" data-toggle="modal" data-target="#modalMap">
          <svg class="bi bi-geo-alt" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" d="M8 16s6-5.686 6-10A6 6 0 002 6c0 4.314 6 10 6 10zm0-7a3 3 0 100-6 3 3 0 000 6z" clip-rule="evenodd"/>
          </svg>
        </button>
      </div>
      <div class="input-group-btn">
        <button id="install" class="btn btn-primary">PWA COM</button>
      </div>
      
      
    </div>

    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <script src="https://cdn.socket.io/socket.io-1.2.0.js"></script>
    <script src="/app.js" ></script>
    <script src="/client.js" ></script>
    <script src="/install.js" ></script>
  </body>

</html>
